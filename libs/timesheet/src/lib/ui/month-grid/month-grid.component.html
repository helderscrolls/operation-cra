<table class="timesheet-table">
  <thead>
    <tr>
      <th>Projects</th>
      <th *ngFor="let day of days">
        {{ day | date : 'EEE dd' }}
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let mission of missions$ | async">
      <td class="project-name">{{ mission.topSecretMissionName }}</td>
      <td *ngFor="let day of days">
        <select (change)="onAgentChange(+mission.id, day, $event)">
          <option [value]="null">None</option>
          <ng-container *ngIf="timesheetsMap$ | async as timesheetsMap">
            <option
              *ngFor="let agent of agents$ | async"
              [value]="agent.id"
              [selected]="
                getAssignedAgent(+mission.id, day, timesheetsMap) === agent.id
              "
            >
              {{ agent.name }}
            </option>
          </ng-container>
        </select>
      </td>
    </tr>
  </tbody>
</table>
